{
  "name": "jellyfin",
  "display_name": "Jellyfin",
  "description": "Install Jellyfin Media Server",
  "category": "MEDIA SERVERS",
  "icon_url": "/static/images/jellyfin.png",
  "install_order": 1.0,
  "visible": true,
  "prerequisites": [],
  "static_ips": {
    "jellyfin": "10.21.12.3"
  },
  "schema": {
    "image": {
      "type": "string",
      "ui_component": "text",
      "label": "Docker Image",
      "default": "jellyfin/jellyfin",
      "required": false,
      "visible": true,
      "advanced": false,
      "schema": "service.image"
    },
    "tag": {
      "type": "string",
      "ui_component": "text",
      "label": "Image Tag",
      "default": "latest",
      "description": "Docker image tag/version to use",
      "required": false,
      "visible": true,
      "advanced": true,
      "schema": "env.TAG"
    },
    "restart_policy": {
      "type": "string",
      "ui_component": "dropdown",
      "label": "Restart Policy",
      "default": "unless-stopped",
      "options": [
        {"label": "No", "value": "no"},
        {"label": "Always", "value": "always"},
        {"label": "On Failure", "value": "on-failure"},
        {"label": "Unless Stopped", "value": "unless-stopped"}
      ],
      "required": false,
      "visible": true,
      "advanced": true,
      "schema": "service.restart"
    },
    "puid_env": {
      "type": "integer",
      "ui_component": "number",
      "label": "PUID",
      "default": "${GLOBAL.PUID}",
      "description": "User ID for file permissions",
      "required": false,
      "visible": true,
      "advanced": true,
      "schema": "service.environment.PUID"
    },
    "pgid_env": {
      "type": "integer",
      "ui_component": "number",
      "label": "PGID",
      "default": "${GLOBAL.PGID}",
      "description": "Group ID for file permissions",
      "required": false,
      "visible": true,
      "advanced": true,
      "schema": "service.environment.PGID"
    },
    "tz_env": {
      "type": "string",
      "ui_component": "text",
      "label": "Timezone",
      "default": "${GLOBAL.TIMEZONE}",
      "description": "Container timezone",
      "required": false,
      "visible": true,
      "advanced": true,
      "schema": "service.environment.TZ"
    },
    "container_name": {
      "type": "string",
      "ui_component": "text",
      "label": "Container Name",
      "default": "jellyfin",
      "required": false,
      "visible": true,
      "advanced": false,
      "schema": "service.container_name"
    },
    "web_port": {
      "type": "object",
      "ui_component": "port_mapping",
      "label": "Web Interface Port",
      "description": "Port for accessing the Jellyfin web interface",
      "default": {
        "published": 8096,
        "target": 8096,
        "protocol": "tcp"
      },
      "fields": {
        "published": {
          "type": "integer",
          "ui_component": "number",
          "label": "Host Port",
          "default": 8096
        },
        "target": {
          "type": "integer",
          "ui_component": "number",
          "label": "Container Port",
          "default": 8096
        },
        "protocol": {
          "type": "string",
          "ui_component": "dropdown",
          "label": "Protocol",
          "default": "tcp",
          "options": [
            {"label": "TCP", "value": "tcp"},
            {"label": "UDP", "value": "udp"}
          ]
        }
      },
      "required": false,
      "visible": true,
      "advanced": false,
      "schema": "service.ports"
    },
    "config_volume": {
      "type": "object",
      "ui_component": "volume_mapping",
      "label": "Config Volume",
      "description": "Storage location for Jellyfin configuration files",
      "default": {
        "type": "bind",
        "source": "./config",
        "target": "/config",
        "read_only": false
      },
      "fields": {
        "type": {
          "type": "string",
          "ui_component": "dropdown",
          "label": "Type",
          "default": "bind",
          "options": [
            {"label": "Bind Mount", "value": "bind"},
            {"label": "Named Volume", "value": "volume"}
          ]
        },
        "source": {
          "type": "string",
          "ui_component": "text",
          "label": "Host Path",
          "default": "./config",
          "placeholder": "./config"
        },
        "target": {
          "type": "string",
          "ui_component": "text",
          "label": "Container Path",
          "default": "/config",
          "placeholder": "/config"
        },
        "read_only": {
          "type": "boolean",
          "ui_component": "checkbox",
          "label": "Read Only",
          "default": false
        }
      },
      "required": false,
      "visible": true,
      "advanced": false,
      "schema": "service.volumes"
    },
    "cache_volume": {
      "type": "object",
      "ui_component": "volume_mapping",
      "label": "Cache Volume",
      "default": {
        "type": "bind",
        "source": "./cache",
        "target": "/cache",
        "read_only": false
      },
      "fields": {
        "type": {
          "type": "string",
          "ui_component": "dropdown",
          "label": "Type",
          "default": "bind",
          "options": [
            {"label": "Bind Mount", "value": "bind"},
            {"label": "Named Volume", "value": "volume"}
          ]
        },
        "source": {
          "type": "string",
          "ui_component": "text",
          "label": "Host Path",
          "default": "./cache",
          "placeholder": "./cache"
        },
        "target": {
          "type": "string",
          "ui_component": "text",
          "label": "Container Path",
          "default": "/cache",
          "placeholder": "/cache"
        },
        "read_only": {
          "type": "boolean",
          "ui_component": "checkbox",
          "label": "Read Only",
          "default": false
        }
      },
      "required": false,
      "visible": true,
      "advanced": true,
      "schema": "service.volumes"
    },
    "service_network": {
      "type": "string",
      "ui_component": "text",
      "label": "Network Name",
      "default": "${GLOBAL.NETWORK_NAME}",
      "description": "Docker network to attach to",
      "required": false,
      "visible": true,
      "advanced": true,
      "schema": "service.networks"
    },
    "ipv4_address": {
      "type": "string",
      "ui_component": "text",
      "label": "Static IP Address",
      "default": "10.21.12.3",
      "description": "Static IPv4 address for this container",
      "required": false,
      "visible": true,
      "advanced": true,
      "schema": "service.network_config.${GLOBAL.NETWORK_NAME}.ipv4_address"
    },
    "compose_network_mastarr": {
      "type": "object",
      "ui_component": "text",
      "label": "Network Definition",
      "default": {
        "external": true
      },
      "required": false,
      "visible": false,
      "advanced": false,
      "schema": "compose.networks.${GLOBAL.NETWORK_NAME}"
    },
    "admin_user": {
      "type": "string",
      "ui_component": "text",
      "label": "Admin Username",
      "placeholder": "Enter a username for the Admin user",
      "required": true,
      "visible": true,
      "advanced": false,
      "schema": "metadata.admin_user"
    },
    "admin_password": {
      "type": "string",
      "ui_component": "password",
      "label": "Admin Password",
      "placeholder": "Enter a password for the Admin user",
      "required": true,
      "visible": true,
      "advanced": false,
      "is_sensitive": true,
      "schema": "metadata.admin_password"
    },
    "enable_transcoding": {
      "type": "boolean",
      "ui_component": "checkbox",
      "label": "Enable Hardware Transcoding",
      "default": false,
      "required": false,
      "visible": true,
      "advanced": false,
      "schema": "metadata.enable_transcoding"
    }
  },
  "post_install_hook": "jellyfin.post_install"
}
